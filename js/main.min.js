function newTabPageMain(){function a(a){a.preventDefault(),chrome.tabs.getCurrent(function(b){chrome.tabs.update(b.id,{url:a.target.href})})}for(var b=/^chrome:/,c=document.querySelectorAll("a"),d=0,e=c.length;e>d;d++)c[d].href.match(b)&&c[d].addEventListener("click",a);document.getElementById("clear-cache").addEventListener("click",function(){this.classList.add("in-progress"),chrome.browsingData.removeCache({},function(){document.getElementById("clear-cache").classList.add("is-complete")})}),document.getElementById("clear-history").addEventListener("click",function(){this.parentElement.classList.toggle("pending-confirm")}),document.getElementById("history-increment").addEventListener("click",function(){var a=["1 day","1 week","1 month","forever","10 minutes"],b=a.indexOf(this.value),c=b!==a.length-1?b+1:0;this.value=a[c]}),document.getElementById("clear-history-confirm").addEventListener("click",function(){var a=document.getElementById("history-increment").value,b=Date.getTime(),c=864e5;switch(this.parentElement.classList.remove("pending-confirm"),document.getElementById("clear-history").classList.add("in-progress"),a){case"1 day":a=b-c;break;case"1 week":a=b-7*c;break;case"1 month":a=b-30*c;break;case"forever":a=0;break;case"10 minutes":a=6e5}chrome.browsingData.removeHistory({since:a},function(){document.getElementById("clear-history").classList.add("is-complete")})})}window.addEventListener("DOMContentLoaded",newTabPageMain);